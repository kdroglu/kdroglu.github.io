<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio | Kadir Kadiroğlu - YTÜ Mekatronik Mühendisi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-tomorrow.min.css">
    <style>
        /* Diğer tüm CSS kodları aynı kaldı, sadece yıldız hızını değiştirdim */
        
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform: translateY(0);
            animation: starScroll 62s linear infinite; /* 80s'den 62s'ye değiştirildi (1.3x hız) */
        }
        
        .stars-2 {
            top: 100%;
            animation-delay: -31s; /* 40s'den 31s'ye değiştirildi (1.3x hız) */
        }
        
        /* Diğer tüm CSS kodları aynı kaldı */
    </style>
</head>
<body>
    <!-- Yıldız Arkaplan -->
    <div class="stars-container">
        <div class="stars" id="stars1"></div>
        <div class="stars stars-2" id="stars2"></div>
    </div>

    <!-- PDF Preview Modal - GÜNCELLENDİ -->
    <div id="pdfModal" class="modal">
        <span class="close">&times;</span>
        <div class="modal-content" style="padding: 20px; overflow: auto;">
            <h3 style="color: var(--primary); margin-bottom: 20px;" id="pdfTitle">PDF Görüntüleyici</h3>
            <div style="display: flex; justify-content: center; margin-bottom: 20px;">
                <button id="prevPage" class="btn" style="margin-right: 10px;"><i class="fas fa-arrow-left"></i> Önceki</button>
                <span id="pageInfo" style="margin: 0 15px; display: flex; align-items: center;">Sayfa: <span id="currentPage">1</span> / <span id="totalPages">1</span></span>
                <button id="nextPage" class="btn" style="margin-left: 10px;">Sonraki <i class="fas fa-arrow-right"></i></button>
            </div>
            <iframe id="pdfFrame" style="width: 100%; height: calc(100% - 100px); border: none; border-radius: 5px;"></iframe>
        </div>
    </div>

    <!-- Arduino Kodu Modal -->
    <div id="arduinoModal" class="modal">
        <span class="close">&times;</span>
        <div class="modal-content" style="padding: 20px; overflow: auto;">
            <h3 style="color: var(--primary); margin-bottom: 20px;">Arduino Kodu</h3>
            <pre style="background: #1e1e1e; color: #d4d4d4; padding: 20px; border-radius: 5px; overflow: auto; margin: 0;">
                <code id="arduinoCode" class="language-cpp"></code>
            </pre>
        </div>
    </div>

    <!-- 3D Model Modal -->
    <div id="modelModal" class="modal">
        <span class="close">&times;</span>
        <div class="modal-content" style="padding: 20px;">
            <h3 style="color: var(--primary); margin-bottom: 20px;">3D Model Görüntüleyici</h3>
            <iframe id="modelViewer" style="width: 100%; height: calc(100% - 60px); border: none; border-radius: 5px; background: white;"></iframe>
        </div>
    </div>

    <!-- Diğer tüm HTML kodu aynı kaldı -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-c.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-cpp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-python.min.js"></script>
    <script>
        // PDF görüntüleyici için değişkenler
        let currentPdf = null;
        let currentPage = 1;
        let totalPages = 1;
        let pdfDoc = null;

        // PDF Modal Fonksiyonları - GÜNCELLENDİ
        function openPdfModal(pdfUrl) {
            closeAllModals();
            currentPdf = pdfUrl;
            currentPage = 1;
            
            const modal = document.getElementById('pdfModal');
            const pdfFrame = document.getElementById('pdfFrame');
            
            // PDF.js kullanarak PDF'i yükle
            loadPdf(pdfUrl);
            
            modal.style.display = 'block';
            activeModal = modal;
            document.body.style.overflow = 'hidden';
        }

        // PDF.js ile PDF yükleme
        function loadPdf(url) {
            // PDF.js kütüphanesini dinamik olarak yükle
            if (typeof pdfjsLib === 'undefined') {
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js';
                script.onload = function() {
                    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js';
                    renderPdf(url);
                };
                document.head.appendChild(script);
            } else {
                renderPdf(url);
            }
        }

        // PDF render etme
        function renderPdf(url) {
            pdfjsLib.getDocument(url).promise.then(function(pdf) {
                pdfDoc = pdf;
                totalPages = pdf.numPages;
                updatePageInfo();
                renderPage(currentPage);
            }).catch(function(error) {
                console.error('PDF yüklenirken hata oluştu:', error);
                // Fallback: Basit iframe kullan
                document.getElementById('pdfFrame').src = url;
                document.getElementById('prevPage').style.display = 'none';
                document.getElementById('nextPage').style.display = 'none';
                document.getElementById('pageInfo').style.display = 'none';
            });
        }

        // PDF sayfasını render et
        function renderPage(pageNum) {
            pdfDoc.getPage(pageNum).then(function(page) {
                const viewport = page.getViewport({ scale: 1.5 });
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.height = viewport.height;
                canvas.width = viewport.width;

                const renderContext = {
                    canvasContext: ctx,
                    viewport: viewport
                };

                page.render(renderContext).promise.then(function() {
                    const pdfFrame = document.getElementById('pdfFrame');
                    pdfFrame.src = canvas.toDataURL();
                });
            });
        }

        // Sayfa bilgisini güncelle
        function updatePageInfo() {
            document.getElementById('currentPage').textContent = currentPage;
            document.getElementById('totalPages').textContent = totalPages;
            
            // Sayfa geçiş butonlarını kontrol et
            document.getElementById('prevPage').disabled = (currentPage <= 1);
            document.getElementById('nextPage').disabled = (currentPage >= totalPages);
        }

        // Önceki sayfa
        document.getElementById('prevPage').addEventListener('click', function() {
            if (currentPage > 1) {
                currentPage--;
                renderPage(currentPage);
                updatePageInfo();
            }
        });

        // Sonraki sayfa
        document.getElementById('nextPage').addEventListener('click', function() {
            if (currentPage < totalPages) {
                currentPage++;
                renderPage(currentPage);
                updatePageInfo();
            }
        });

        // Diğer tüm JavaScript kodları aynı kaldı
    </script>
</body>
</html>
